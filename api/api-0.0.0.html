<!doctype html>
<html>
 <head>
  <meta charset="utf-8">
  <title>NLP Interchange Format (NIF) 2.0 - Web Service Access Specification</title>
  <meta name="author" content="Sebastian Hellmann">
  <link rel="stylesheet" href="css/main.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
</head>
 <body>
   <ol class="nav lang">
     <li></li>
   </ol>
   
     <ol class="nav">
     <li><a href="/nlp2rdf/">Back to Overview</a></li>
     <li><a href="/nlp2rdf/specification/api.html">current</a></li>
     <li><a href="/nlp2rdf/specification/api/api-0.0.0.html">v0.0.0</a></li>
     <li><a href="/nlp2rdf/specification/api.html">draft</a></li> 
   </ol>
   
   <h2>NLP Interchange Format (NIF) 2.0</h2><h1>Public API Specification</h1><h2>Document Version 0.0.0 (not versioned yet)</h2> 
   
<h2>Summary</h2>
<p>The NLP Interchange Format (NIF) is an RDF/OWL-based format that aims to achieve interoperability between Natural Language Processing (NLP) tools, language resources and annotations. NIF consists of specifications, ontologies and software (<a href="http://persistence.uni-leipzig.org/nlp2rdf">overview</a>), which are combined under the version identifier "NIF 2.0", but are <a href="http://persistence.uni-leipzig.org/nlp2rdf/specification/version.html">versioned individually</a>.</p>

<p>This specification defines parameters for NIF service implementations (NIF-SI): Web Service (NIF-WS) and Command Line Interface (NIF-CLI).</p>

<h2>NIF Service Implementation (NIF-SI)</h2>
<p>NIF-SI may be implemented as Web Service (NIF-WS) and Command Line Interface (NIF-CLI). Bot must implement common parameters in the next section as well as each of the type-specific parameters. All parameters except <code>input</code> must have a sensible default implemented and thus must be omittable, when calling the implementation.</p>

<h2>Common Parameters</h2>	
	<table border=1 >
			<tr>
				<th>Parameter</th>
				<th>Description</th>
			</tr>                        
			<tr>
				<td>
					<strong>informat</strong><br>
				</td>
				<td>
					<h3 id="informat">Input Format<br/>
						NIF-WS default: <code>turtle</code><br/>
						NIF-CLI default: <code>turtle</code>
					</h3>
					<ul><li>Determines in which format the <b>input</b> is given.</li>
					<li>NIF-SI must accept values <code>text</code>, <code>turtle</code>, <code>rdfxml</code>. </li>
					<li>NIF-SI may additionally accept <code>ntriples</code>, <code>json</code>, <code>json-ld</code> <code>html</code>, <code>pdf</code> and others. </li>
					</ul>
				</td>
			</tr>
			<tr>
				<td>
					<strong>intype</strong>
				</td>
				<td>
					<h3 id="intype">Input Type<br/>
						NIF-WS default: <code>direct</code><br/>
						NIF-CLI default: <code>direct</code>
					</h3>
					Determines how the <b>input</b> is accessed or retrieved. Values are:
					<ul>
						<li><code>direct</code> - input is read from stdin or HTTP parameter (GET) or body (POST).</li>
						<li><code>url</code> - NIF-SI retrieves the input from the URL. </li>
						<li><code>file</code> - input is read from a local file (relative or absolute path) .</li>
					</ul> 
					NIF-WS must accept values <code>url</code> and <code>direct</code><br>
					NIF-CLI must accept values <code>url</code> and <code>file</code>.
					NIF-CLI must additionally accept <code>direct</code> for UNIX systems, e.g. <code>cat textfile.txt | java -jar nif-cli.jar --informat text </code>
				</td>
			</tr>
			<tr>
				<td>
					<strong>input</strong>
				<td>
					<h3 id="input">Input<br/>
						no default, this is the serialized data (i.e. the text or the NIF RDF)
					</h3>
					Determines the input in accordance with the <b>intype</b> and <b>informat</b> parameter. </br>
				</td>
			</tr>
			<tr>
				<td>
					<strong>outformat</strong>
				</td>
				<td>
					<h3 id="outformat">Output Format<br/>
						NIF-WS default: <code>turtle</code><br/>
						NIF-CLI default: <code>turtle</code>
					</h3>
					Determines the format of the output.<br>
					NIF-SI must accept values <code>text</code>, <code>turtle</code>, <code>rdfxml</code>. </br>
					Additionally, NIF-WS must honor the "Accept: " HTTP Request header as well as set the correct "Content-Type" HTTP response header for the following values:
					<ul>
						<li>text - text/plain</li>
						<li>turtle - text/turtle</li>
						<li>rdfxml - text/rdfxml</li>
					</ul> 
					Note that GET and POST overrides "Accept:". 
				</td>
			</tr>
			<tr>
				<td>
					<strong>urischeme</strong>
				</td>
				<td>
					<h3 id="urischeme">URI Scheme<br/>
						NIF-WS default: <code>RFC5147String</code><br/>
						NIF-CLI default: <code>RFC5147String</code>
					</h3>
					TODO: this needs to be improved:
					Determines the urischeme to be used. May be the full URI of the scheme of the OWL class. In case the namespace is "http://persistence.uni-leipzig.org/nlp2rdf/ontologies/nif-core#" it can be omitted for brevity.
					Allowed values: "RFC5147String", "http://persistence.uni-leipzig.org/nlp2rdf/ontologies/nif-core#RFC5147String", etc. </br>
					
				</td>
			</tr>
			<tr>
				<td>
				   <strong>prefix</strong> 
				</td>
				<td>
					   A prefix, which is used to create URIs. Therefore the client should ensure, that the prefix is valid, when used at the start of the uri, e.g. http://test.de/test#. It is recommended that the client matches the prefix to the previously used prefix. If the parameter is missing it should be substituted by a sensible default (e.g. the web service uri).
					   
				</td>
			</tr>
			<tr>
				<td>
				   <strong>logPrefix</strong> 
					<span></span>
				</td>
				<td>
					  ??
				</td>
			</tr>
			<tr>
				<td>
				   <strong>urischemeparameters</strong> 
					<span>optional</span>
				</td>
				<td>
					Some parameters for certain urischemes, e.g. contextlength
				</td>
			</tr>
			<!--tr>
				<td>
				   <strong>debug</strong> 
					<span>optional, default: false</span>
				</td>
				<td>
					debug = "true" | "false" This options determines, if additional debug messages and errors should be written within the RDF.
				</td>
			</tr-->
	</table>

<h2>RLOG - an RDF Logging Ontology (informative)</h2>
For NIF we have created out own Logging Ontology - RLOG. It is available at <a href="http://persistence.uni-leipzig.org/nlp2rdf/ontologies/rlog#">http://persistence.uni-leipzig.org/nlp2rdf/ontologies/rlog#</a>. The ontology is very simple, but it covers the NIF use case very well. As of now, we have not discovered any missing features. RLOG can be combined with the <a href="http://www.w3.org/TR/prov-o/"> W3C Provenance Ontology</a>. The logging has to follow this pattern: 
<pre>@prefix rlog: &lt;http://persistence.uni-leipzig.org/nlp2rdf/ontologies/rlog#&gt; .
@prefix logPrefix: &lt;http://example.org/user-defined-logPrefix#&gt; .
logPrefix:user-defined-urn
	a rlog:Entry ;
	rlog:level rlog:ERROR ;
	rlog:date "2013-06-08T17:00:00Z"^^xsd:datetime ;
	rlog:message "Log message" ;
	# optional:
	rlog:resource  &lt;http://example.com/RDF-resource&gt; . </pre> 
	
Here is an example produced by the <a href="https://github.com/NLP2RDF/software#nif-validator" >NIF validator</a>:
<pre># default prefix, non dereferencable
@prefix logPrefix: &lt;http://nlp2rdf.lod2.eu/instance/log/&gt; .
# arbitrary id at the moment. 
logPrefix:id_ERROR_0_1377165120346
        a              rlog:Entry ;
        rlog:date      "2013-08-22T09:52:00.347Z"^^xsd:dateTime ;
        rlog:level     rlog:ERROR ;
        rlog:message   """http://example.com/error4.html#char=1,25: for the context,
                          the length of nif:isString (27) must equal nif:endIndex (25)""" ;
        rlog:resource  &lt;http://example.com/error4.html#char=1,25&gt; .</pre> 





 </body>
</html>

